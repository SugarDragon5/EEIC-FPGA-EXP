# EEIC-FPGA-EXP
東京大学工学部電子情報工学科「電気電子情報実験・演習第二」種目13「FPGAを用いたアルゴリズム実装」のレポジトリです。
焼き鈍し法をFPGA上で並列的に動作させ、巡回セールスマン問題をCPUより効率的に解くことを目標とします。

# モジュール設計
## トップモジュール(TSPTop)
### 入力
- `clk` : クロック
- `rst` : リセット
### 出力
// TODO
### 変数
- `Graph` : グラフ
- `path` : 巡回経路
- `total_cost` : 経路コスト

### 処理
- リセットがかかったら、グラフを生成する
- 頂点選択モジュール(n並列)から、近傍を選択する
- 焼きなましモジュール(n並列)に、近傍と温度を渡す
- 焼きなましモジュールから、経路コストの差分と、近傍を入れ替えるべきかを受け取る
- 経路コストの差分が負なら、近傍を入れ替える

## グラフモジュール(Graph)
### 入力
- `clk` : クロック
- `rst` : リセット
### 出力
- `V` : 頂点数
- `x[i], y[i]` : 頂点座標
- `d[i][j]` : 頂点間距離    //ほんまか？

## 頂点選択モジュール
### 入力
- `clk` : クロック
### 出力
- `v1`: 頂点1
- `v2`: 頂点2

## 頂点入れ替えモジュール
### 入力
- `clk` : クロック
- `v1` : 頂点1
- `v2` : 頂点2

## 焼きなましモジュール(SA)
### 入力
- `clk` : クロック
- `v1(x1,y1)` : 頂点1
- `v2(x2,y2)` : 頂点2
- `v3(x3,y3)` : 頂点3
- `v4(x4,y4)` : 頂点4
- `v5(x5,y5)` : 頂点5
- `v6(x6,y6)` : 頂点6
- `temperature` : 温度
// 距離を渡したほうが良い？
### 出力
- `result` : v2とv5を入れ替えるべきか
- `diff` : 経路コストの差分

## 距離計算モジュール
### 入力
- `clk` : クロック
- `v1(x1,y1)` : 頂点1
- `v2(x2,y2)` : 頂点2
### 出力
- `distance` : 頂点間距離

## 乱数生成モジュール
### 入力
- `clk` : クロック
- `max` : 範囲[0, max]
### 出力
- `random` : 乱数